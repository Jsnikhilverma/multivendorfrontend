import{a as n,u,j as e}from"./index-CbRdKHfo.js";import{b as p,a as f}from"./js.cookie-47-wOPc-.js";const j=()=>{const[a,d]=n.useState(""),[r,c]=n.useState(""),m=u(),x=async t=>{var i,o;if(t.preventDefault(),!a||!r){alert("Both email and password are required.");return}try{const s=new URLSearchParams;s.append("email",a),s.append("password",r);const l=await p.post("http://103.189.172.132:3000/api/public/admin-login",s,{headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0});if(console.log("Response:",l.data),l.data.success){console.log("Login Success");const g=l.data.token;f.set("token",g,{expires:7,secure:!1,sameSite:"Strict"}),console.log("cookies set"),m("/")}else alert("Login failed! Please try again.")}catch(s){console.error("Login Error:",s),alert(((o=(i=s.response)==null?void 0:i.data)==null?void 0:o.message)||"An error occurred during login. Please try again.")}};return e.jsxs("div",{className:"lg:flex min-h-screen",children:[e.jsxs("div",{className:"lg:w-1/2 xl:max-w-screen-sm",children:[e.jsx("div",{className:"py-12 bg-indigo-100 lg:bg-white flex justify-center lg:justify-start lg:px-12",children:e.jsx("div",{className:"cursor-pointer flex items-center",children:e.jsx("div",{className:" text-3xl text-indigo-800 tracking-wide ml-2 font-semibold",children:"Spotser Admin"})})}),e.jsxs("div",{className:"mt-10 px-12 sm:px-24 md:px-48 lg:px-12 xl:px-24 xl:max-w-2xl",children:[e.jsx("h2",{className:"text-center text-4xl text-indigo-900 font-display font-semibold lg:text-left xl:text-5xl",children:"Log in"}),e.jsxs("form",{className:"mt-12",onSubmit:x,children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold text-gray-700",children:"Email Address"}),e.jsx("input",{className:"w-full text-lg py-2 border-b border-gray-300 focus:outline-none focus:border-indigo-500",type:"email",placeholder:"mike@gmail.com",value:a,onChange:t=>d(t.target.value),required:!0})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("label",{className:"text-sm font-bold text-gray-700",children:"Password"})}),e.jsx("input",{className:"w-full text-lg py-2 border-b border-gray-300 focus:outline-none focus:border-indigo-500",type:"password",placeholder:"Enter your password",value:r,onChange:t=>c(t.target.value),required:!0})]}),e.jsx("div",{className:"mt-10",children:e.jsx("button",{type:"submit",className:"bg-gradient-to-br from-gray-800 to-gray-900 text-gray-100 p-4 w-full rounded-full tracking-wide font-semibold hover:bg-indigo-600 shadow-lg",children:"Log In"})})]})]})]}),e.jsx("div",{className:"hidden lg:flex items-center justify-center bg-indigo-100 flex-1 h-screen"})]})};export{j as default};
